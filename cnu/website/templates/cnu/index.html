{% extends 'cnu/layout.html' %}
{% load static %}
{% block title %}
    Acasă
{% endblock %}
{% block body %}

<!-- HERO -->
<section class="hero-section">
    <div class="content">
        <h1 class="display-5 fw-bold">Colegiul Național „Unirea”</h1>
        <p class="lead mb-4">Excelență prin educație, tradiție și performanță</p>
        <a href="{% url 'despre' %}" class="btn btn-warning btn-lg px-4">Află mai mult</a>
    </div>
</section>

<!-- ABOUT -->
<section class="py-5 bg-light mb-5">
  <div class="container">
    <div class="row align-items-center g-4 g-lg-5">
      <div class="col-lg-6 text-center">
        <div class="position-relative d-inline-block">
          <img src="{% static 'cnu/assets/placeholder.png' %}" alt="Sigla liceului" class="img-fluid rounded-circle shadow-sm border border-3" style="width: 180px; height: 180px; object-fit: cover;">
          <div class="bg-primary opacity-10 rounded-circle position-absolute top-50 start-50 translate-middle" style="width: 240px; height: 240px; z-index: -1;"></div>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="bg-white shadow-sm p-4 rounded-4">
          <h2 class="fw-semibold text-primary mb-3">Despre liceu</h2>
          <p class="text-muted mb-3">
            Tradiție, performanță și profesori dedicați — la Colegiul Național „Unirea” formăm caractere puternice și minți deschise.
          </p>
          <a href="{% url 'admitere' %}" class="btn btn-primary fw-semibold px-4">Citește mai mult</a>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- LATEST EVENTS / NEWS -->
<section class="py-5">
  <div class="container">
    <h2 class="text-center fw-bold mb-5 text-primary">Ultimele Evenimente</h2>
    <div class="row justify-content-center g-4">
      {% if all_pinned %}
        {% for event in all_pinned %}
          <div class="col-md-6 col-lg-5">
            <a href="{% url 'publicatii' %}?scroll={{event.id}}" class="text-decoration-none">
              <div class="d-flex align-items-start p-4 bg-light rounded-4 shadow-sm h-100 latest-news">
                <!-- Circle Icon -->
                <div class="flex-shrink-0 me-3">
                  <div class="bg-primary text-white d-flex justify-content-center align-items-center rounded-circle" style="width: 70px; height: 70px;">
                    <i class="bi bi-exclamation-circle-fill fs-3"></i>
                  </div>
                </div>
                <!-- Event Info -->
                <div>
                  <h5 class="mb-1 fw-semibold text-dark">{{ event.titlu }}</h5>
                  <p class="mb-0 text-secondary" style="font-size: 0.85rem;">
                    {% if event.data_publicare %}
                      {{ event.data_publicare|date:"d M Y" }} &middot; {{ event.data_publicare|time:"H:i" }}
                    {% else %}
                      Data necunoscută
                    {% endif %}
                  </p>
                </div>
              </div>
            </a>
        </div>
        {% endfor %}
      {% endif %}
      {% if latest_events %}
        {% for event in latest_events|slice:":3" %}
        <div class="col-md-6 col-lg-5">
          <a href="{% url 'calendar' %}" class="text-decoration-none">
            <div class="d-flex align-items-start p-4 bg-light rounded-4 shadow-sm h-100 latest-news">
              <!-- Circle Icon -->
              <div class="flex-shrink-0 me-3">
                <div class="bg-primary text-white d-flex justify-content-center align-items-center rounded-circle" style="width: 70px; height: 70px;">
                  <i class="bi bi-calendar-event fs-3"></i>
                </div>
              </div>
              <!-- Event Info -->
              <div>
                <h5 class="mb-1 fw-semibold text-dark">{{ event.title }}</h5>
                <p class="mb-1 text-muted" style="font-size: 0.95rem;">
                  {{ event.description|truncatewords:20 }}
                </p>
                <p class="mb-0 text-secondary" style="font-size: 0.85rem;">
                  {% if event.startDateTime %}
                    {{ event.startDateTime|date:"d M Y" }} &middot; {{ event.startDateTime|time:"H:i" }}
                  {% else %}
                    Data necunoscută
                  {% endif %}
                </p>
              </div>
            </div>
          </a>
        </div>
        {% endfor %}
      {% endif %}
      {% if not all_pinned and not latest_events %}
        <p class="text-center text-muted">Nu există evenimente recente.</p>
      {% endif %}
    </div>
  </div>
</section>


{% endblock %}